<section class="vh-100" style="background-color: #eee;">
  <div class="container py-5 h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-md-12 col-xl-4">
        <div class="card" style="border-radius: 15px; background-color: #ABD699;">
          <div class="card-body p-4 text-black">
            <div>
             <%= simple_form_for(resource, as: resource_name, url: registration_path(resource_name), data: {turbo: false}) do |f| %>
              <%= f.error_notification %>
              <div class="d-flex align-items-center justify-content-between mb-3">
                <h5 class="mb-0">Edit Profile</h5>

              </div>
            </div>
            <div class="d-flex align-items-center mb-4">
              <div class="flex-shrink-0">
                <%= image_tag asset_path('profile.png'), class:"img-fluid rounded-circle border border-dark border-3",
                  style:"width: 70px;"%>
              </div>
              <div class="form-inputs">
              <div class="flex-grow-1 ms-3">
              <div class="d-flex flex-row align-items-center mb-2">
              <h5 class="mb-0"><i class="fa-solid fa-envelope"></i></h5> <p class="mb-0 m-2"><%= f.input :email, label: false,  required: true, autofocus: true%></p>
                <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
                  <p>Currently waiting confirmation for: <%= resource.unconfirmed_email %></p>
                <% end %>
              </div>
              <% @boroughs = Borough.all%>
              <div class="d-flex flex-row align-items-center mb-2">
              <h4 class="mb-0"><i class="fa-solid fa-location-dot"></i></h4> <p class="small m-2"><%=f.input :borough_id, as: :select, :collection => @boroughs.each {|b| b.name}, prompt: 'Select Borough',label: false, input_html: { multiple: true },
                required: true,
                autofocus: true,
                input_html: { autocomplete: "borough" } %></p>
                </div>
              </div>
              </div>
            </div>
            <%= f.input :password,
                hint: "leave it blank if you don't want to change it",
                required: false,
                input_html: { autocomplete: "new-password" } %>
            <%= f.input :password_confirmation,
                required: false,
                hint: "leave it blank if you don't want to change it",
                input_html: { autocomplete: "new-password" } %>
            <%= f.input :current_password,
                hint: "we need your current password to confirm your changes",
                required: true,
                input_html: { autocomplete: "current-password" } %>

            <div class="form-actions">
            <%= f.button :submit, "Update", class: "btn  btn-rounded btn-block btn-lg", style:"background-color: #16123f; color: white;" %>
            </div>
               <% end %>
            <hr>
            <div>
              <%= link_to "Back ", :back, class:"btn btn-outline-dark btn-rounded btn-sm"%>
              <% if user_signed_in? %>
                <%= link_to "Cancel account", registration_path(resource_name), data: { confirm: "Are you sure?" }, method: :delete,  class:"btn btn-outline-dark btn-rounded btn-sm"%>
              <%end%>
            </div>
             <br>
          </div>
        </div>


      </div>
    </div>
  </div>
</section>
